<div ngbAccordion>
  @for (item of items(); let i = $index; track item) {
    <div
      ngbAccordionItem
      [collapsed]="!item.isOpen"
      [disabled]="!!item.isDisabled"
      [attr.id]="'accordion-item-' + i">
      <h2 ngbAccordionHeader>
        <button
          ngbAccordionButton
          class="accordion-button custom-header justify-content-between"
          type="button"
          (click)="item.isOpen = !item.isOpen"
          [attr.id]="'accordion-header-' + i"
          [attr.aria-controls]="'accordion-panel-' + i"
          [attr.aria-expanded]="item.isOpen">
          {{ item.title }}
          <i
            class="bi fs-5"
            [ngClass]="item.icon ?? 'bi-chevron-down'"
            [@openClose]="item.isOpen ? 'open' : 'closed'"></i>
        </button>
      </h2>
      <div
        ngbAccordionCollapse
        [attr.id]="'accordion-panel-' + i"
        [attr.aria-labelledby]="'accordion-header-' + i">
        <div ngbAccordionBody [innerHTML]="item.body"></div>
      </div>
    </div>
  }
</div>
